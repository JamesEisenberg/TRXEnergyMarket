<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TRXEnergyMarket</title>
    <link rel="stylesheet" href="styles/styles.css"> <!-- Link to the stylesheet -->
    <script src="js/script.js"></script>
</head>

<body>
    <div class="container">
        <header class="header">
            <p id="referrer-info">
                Referred by:
                <span id="referrer">
                    <!-- JavaScript will populate this span with the referral parameter if passed in the URL -->
                </span></br>
   		<span id=tronweb-status></span>
            </p>
            <div id="toast" class="toast">Your message here</div>
            <img src="images/logo1.jpg" alt="TRXEnergyMarket Logo" class="logo">
            <h2>Join as a seller</h2>
            <button id="connect-wallet-button" onclick="connectWallet()">Connect Wallet</button>
            <button id="refresh-page-button" onclick="refreshPage()">Refresh Page</button>	    
        </header>
        <main class="main-content">
            <p>By connecting your TronLink wallet, you can easily configure permissions and sell your energy with just a few clicks.</p>
            <p>Our user-friendly interface ensures a seamless experience, allowing you to make the most of your TRX assets.</p>
            <p>Join our growing community and take control of your energy trading today.</p>
            <p>â€¢ The automatic update will create a new active permission named 'TRXEnergyMarket,' which includes the following eight permissions:</p>
            <div class="permissions-list">
                <div class="permission-item">Vote</div>
                <div class="permission-item">Claim Voting Rewards</div>
                <div class="permission-item">TRX Stake (2.0)</div>
                <div class="permission-item">TRX Unstake (2.0)</div>
                <div class="permission-item">Withdraw Unstaked TRX</div>
                <div class="permission-item">Delegate Resources</div>
                <div class="permission-item">Reclaim Resources</div>
                <div class="permission-item">Cancel Unstake</div>
            </div>
            <pre id="transaction-json" style="display: none;"></pre>
            <br>
            <button id="sign-button" style="display: none;" onclick="signAction()">Sign</button>
            <div id="sign-status"></div>
            <br>
            <div id="link-container" style="display: none;"> <!-- Added element for the link -->
                <a id="success-link" href="" target="_blank">Click here to open the bot and complete the registration process.</a>
            </div>
        </main>
        
        <script>
	  document.addEventListener('DOMContentLoaded', async () => {
              // Add a slight delay to ensure TronLink extension has time to load
              setTimeout(connectWallet, 500); // 500 milliseconds delay
              PopulateReferral();
          });

        </script>

        </div>
</body>
</html>
